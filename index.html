<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Music Blocks - a collection of tools for exploring musical concepts
    </title>

    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height">
    <link rel="stylesheet" href="css/activity.css">
    <link rel="stylesheet" href="css/style.css">

    <noscript>
    Javascript is required to view this page.
    </noscript>

    <script src="js/detectIE.js">
    </script>

    <script src="lib/mespeak.js">
    </script>

    <script src="lib/reqwest.js">
    </script>

    <script src="lib/jquery-2.1.4.js">
    </script>

    <script src="lib/jquery-ui.js">
    </script>

    <script src="lib/webL10n.js">
    </script>

    <script src="lib/Tone.min.js">
    </script>

    <script src="lib/jquery.ruler.js">
    </script>

    <script src="lib/modernizr-2.6.2.min.js">
    </script>

    <link rel="prefetch" type="application/l10n" href="./localization.ini">

    <script data-main="js/loader" src="lib/require.js">
    </script>

    <link rel="manifest" href="android_chrome_manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="favicon.ico">
    <meta id="theme-color" name="theme-color" content="#2196F3">

    <script src="lib/easeljs-0.8.2.min.js">
    </script>

    <script src="lib/tweenjs-0.6.2.min.js">
    </script>

    <script src="lib/movieclip-0.7.1.min.js">
    </script>

    <script>
      var canvas, stage, exportRoot;
      function init() {
        canvas = document.getElementById("canvas");
        // exportRoot = new lib.SugarAnimation();
        stage = new createjs.Stage(canvas);
        // stage.addChild(exportRoot);
        stage.update();
        // createjs.Ticker.setFPS(lib.properties.fps);
        createjs.Ticker.addEventListener("tick", stage);
      }
    </script>

    <script>
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', function() {
              navigator.serviceWorker.register('sw.js').then(function(registration) {
                  // Registration was successful
                  console.log('ServiceWorker registration successful with scope: ', registration.scope);
              }).catch(function(err) {
                  // registration failed :(
                  console.log('ServiceWorker registration failed: ', err);
              });
          });
      }
    </script>

  </head>

  <body onload="init();" data-title="index" id="body" style="background: #96D3F3;">
    <div id="loading-image-container" style="position: absolute; width: 100%; height: 100%;">
      <img src='loading-animation.gif' style="max-width:90%; width: 1024px; margin: auto; display: block; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"/>
    </div>

    <script>
      (function($) {
        $.fn.fixMe = function() {
            return this.each(function() {
                var $this = $(this), $t_fixed;

                function init() {
                    $this.wrap('<div class="container" />');
                    $t_fixed = $this.clone();
                    $t_fixed.find("tbody").remove().end().addClass("fixed").insertBefore($this);
                    resizeFixed();
                };

                function resizeFixed() {
                    $t_fixed.find("th").each(function(index) {
                        $(this).css("width", $this.find("th").eq(index).outerWidth() + "px");
                    });
                };

                function scrollFixed() {
                    var offset = $(this).scrollTop(), tableOffsetTop = $this.offset().top, tableOffsetBottom = tableOffsetTop + $this.height() - $this.find("thead").height();

                    if (offset < tableOffsetTop || offset > tableOffsetBottom) {
                        $t_fixed.hide();
                    } else if (offset >= tableOffsetTop && offset <= tableOffsetBottom && $t_fixed.is(":hidden")) {
                        $t_fixed.show();
                    }
                };

                $(window).resize(resizeFixed);
                $(window).scroll(scrollFixed);
                init();
            });
        };
      })(jQuery);

      $(document).ready(function() {
        $("solfa").fixMe();
        $(".up").click(function() {
            $('html, body').animate({
                scrollTop: 0
            }, 2000);
        });
      });

      var isDragging = false;
    </script>

    <canvas id="canvas" width="3790" height="1743"style="background-color:#92B5C8; width:100%">
    </canvas>

    <!--hidden at the beginning whilst everything loads-->
    <div id="hideContents" style="display: none;">
      <div class="canvasHolder" id="canvasHolder">
        <canvas id="myCanvas" width="1200" height="900">
        </canvas>

        <canvas id="overlayCanvas" width="1200" height="900" style="position:absolute;pointer-events:none;left:0;top:0;z-index:-100;visibility:hidden;">
        </canvas>

        <canvas id="myChart" width="600" height="600">
        </canvas>

        <video id="camVideo" style="visibility:hidden;">
        </video>

        <canvas id="camCanvas" style="visibility:hidden;">
        </canvas>

        <div id="labelDiv">
        </div>

        <div id="textLabel">
        </div>

        <div id="notenameLabel">
        </div>

        <div id="modenameLabel">
        </div>

        <div id="intervalnameLabel">
        </div>

        <div id="filtertypeLabel">
        </div>

        <div id="oscillatortypeLabel">
        </div>

        <div id="booleanLabel">
        </div>

        <div id="voicenameLabel">
        </div>

        <div id="drumnameLabel">
        </div>

        <div id="solfegeLabel">
        </div>

        <div id="noteattrLabel">
        </div>

        <div id="ioDiv" style="display:none">
          <input tabindex="-1" class="file" type="file" id="myMedia" accept="image/*">
          <input tabindex="-1" class="file" type="file" id="myOpenFile" accept=".ta, .tb">
          <input tabindex="-1" class="file" type="file" id="myOpenPlugin" accept=".json">
          <input tabindex="-1" class="file" type="file" id="myOpenAll">
        </div>
      </div> <!-- canvasHolder -->

      <div id="audio">
      </div>

      <div id="tourData">
      </div>

      <div id="popdown-palette">
      </div>

      <div id="main-toolbar" class="toolbar">
      </div>

      <div id="loader">
      </div>

      <div id="header" class="EaselJS">
      </div>

      <div class="planet" style="display: none;">
        <nav>
          <div class="nav-container">
            <img src="header-icons/planet-button.svg" class="logo" />
            <h1 id="planetTitle"></h1>
            <ul>
              <li class="back"><img src="header-icons/cancel-button.svg" /></li>
              <li class="new"><img src="header-icons/add.svg" /></li>
              <li class="open"><img src="header-icons/folder-open.svg" /></li>
            </ul>
          </div>
        </nav>

        <div class="nav-spacer">
        </div>

        <div class="planet-content">
          <h2 id="planetMyDevice"></h2>
          <ul class="content l"></ul>
          <h2 id="planetWorldwide"></h2>
          <ul class="content w"></ul>
        </div>
      </div> <!-- planet -->

      <div id="modeDiv" draggable="false">
        <div id="modeButtonsDiv">
        </div>

        <div id="modeTableDiv">
        </div>
      </div>

      <div id="statusDiv" draggable="false">
        <div id="statusButtonsDiv">
        </div>

        <div id="statusTableDiv">
        </div>
      </div>

      <div id="playbackDiv" draggable="false">
        <div id="playbackButtonsDiv">
        </div>

        <div id="playbackTableDiv">
        </div>
      </div>

      <div id="ptmDiv" draggable="false">
        <div id="ptmButtonsDiv">
        </div>

        <div id="ptmTableDiv">
        </div>
      </div>

      <div id="pdmDiv" draggable="false">
        <div id="pdmButtonsDiv">
        </div>

        <div id="pdmTableDiv">
        </div>
      </div>

      <div id="pscDiv" draggable="false">
        <div id="pscButtonsDiv">
        </div>

        <div id="pscTableDiv">
        </div>
      </div>

      <div id="timbreDiv" draggable="false">
        <div id="timbreButtonsDiv">
        </div>

        <div id="timbreTableDiv">
        </div>
      </div>  

      <div id="tempoDiv" draggable="false">
        <div id="tempoButtonsDiv">
        </div>
      </div>

      <div id="rulerDiv" draggable="false">
        <div id="rulerButtonsDiv">
        </div>

        <div id="rulerTableDiv">
        </div>
      </div>

      <div id="sliderDiv" draggable="false">
        <div id="sliderButtonsDiv">
        </div>

        <div id="sliderTableDiv">
        </div>
      </div>

      <div id="playPitch" style="visibility:hidden">
      </div>

      <div id="sliderInCell">
      </div>

      <div id="BPMInput">
      </div>

      <div id="musicratio1">
      </div>

      <div id="musicratio2">
      </div>

      <div id="dissectNumber">
      </div>

      <div id="helpElem">
      </div>

      <div id="searchBar">

         <input type="text" name="search" id="search" placeholder="Search for Blocks">
        <input onkeypress="doSearch()" type="submit" value="">
        
      </div>

    </div> <!-- hideContents -->

    <script type="text/javascript">
      $('#search').autocomplete({
        source: [
        //status blocks
          'transposition factor',
          'consonant step size down',
          'consonant step size up',
          'my pitch',
          'midi',
          'set pitch number off set',
          'number 2 pitch',
          'number 2 octave',
          'mode name',
          'east Indian solfege',
          'note name',
          'solfege',
          'invert 1',
          'invert 2',
          'invert',
          'set transposition',
          'octave',
          'down sixth',
          'down third',
          'seventh',
          'sixth',
          'fifth',
          'fourth',
          'third',
          'second',
          'unison',
          'set scalar transposition',
          'flat',
          'sharp',
          'hertz',
          'pitch number',
          'scale degree',
          'step pitch',
          'pitch',
          //matrix palette
          'oscillator',
          'filter type',
          'oscillator type',
          'envelope',
          'filter',
          'sixty four note',
          'thirty second note',
          'sixty fourth Note',
          'thirty second Note',
          'sixteenth Note',
          'eight Note',
          'quarter Note',
          'half Note',
          'whole Note',
          'tuplet 2',
          'tuplet 3',
          'tuplet 4',
          'stuplet 7',
          'stuplet 5',
          'stuplet 3',
          'stuplet',
          'rhythm',
          'rhythm 2',
          'timbre',
          'mode widget',
          'tempo',
          'pitch drum matrix',
          'pitch slider',
          'pitch staircase',
          'rhythm ruler',
          'rhythm ruler 2',
          'matrix major',
          'matrix',
          'status',
          //rhythm palette
          'my note value',
          'duplicate factor',
          'skip factor',
          'beat factor',
          'bpm factor',
          'osctime',
          'swing',
          'new swing',
          'new swing 2',
          'set master bpm',
          'set bpm',
          'backward',
          'skip notes',
          'duplicate notes',
          'multiply beat factor',
          'divide beat factor',
          'tie',
          'rhythmic dot',
          'rest 2',
          'note 4',
          'note 3',
          'note 5',
          'note 7',
          'note 6',
          'note 2',
          'note 1',
          'note',
          'new note',
          //meter palette
          'drift',
          'off beat do',
          'on beat do',
          'measure value',
          'beat value',
          'pickup',
          'meter',
          'note counter',
          'elapsed notes',
          'elapsed notes 2',
          'staccato factor',
          'slur factor',
          'am synth',
          'fm synth',
          'duo synth',
          'dis',
          'tremolo',
          'phaser',
          'chorus',
          'vibrato',
          'slur',
          'staccato',
          'new slur',
          'new staccato',
          'voice name',
          'set timbre',
          'doubly',
          'interval name',
          'measure interval semi tones',
          'measure interval scalar',
          'diminished 8',
          'diminished 7',
          'diminished 6',
          'diminished 5',
          'diminished 4',
          'diminished 3',
          'diminished 2',
          'augmented 8',
          'augmented 7',
          'augmented 6',
          'augmented 5',
          'augmented 4',
          'augmented 3',
          'augmented 2',
          'augmented 1',
          'perfect 8',
          'perfect 5',
          'perfect 4',
          'perfect',
          'down minor 6',
          'down minor 3',
          'minor 7',
          'minor 6',
          'minor 3',
          'minor 2',
          'down major 6',
          'down major 3',
          'major 7',
          'major 6',
          'major 3',
          'major 2',
          'semi tone interval',
          'down sixth interval',
          'down third interval',
          'seventh interval',
          'sixth interval',
          'fifth interval',
          'fourth interval',
          'third interval',
          'second interval',
          'unison interval',
          'interval',
          'movable',
          'mode length',
          'key',
          'set key 2',
          //drum palette
          'drum name',
          'duck',
          'cat',
          'cricket',
          'dog',
          'bottle',
          'bubbles',
          'chine',
          'clang',
          'clap',
          'slap',
          'crash',
          'tom',
          'cow bell',
          'ride bell',
          'finger cymbals',
          'triangle bell',
          'hi hat',
          'darbuka',
          'cup',
          'floor tom',
          'tom',
          'kick',
          'snare',
          'set drum',
          'play drum',
          // turtle palette
          'heading',
          'y',
          'x',
          'clear',
          'control point 2',
          'control point 1',
          'bezier',
          'arc',
          'set heading',
          'set xy',
          'right',
          'left',
          'back',
          'forward',
          //pen palette
          'fill screen',
          'grey',
          'shade',
          'color',
          'pen size',
          'set font',
          'background',
          'hollow line',
          'fill',
          'pen up',
          'pen down',
          'set pen size',
          'set translucency',
          'set hue',
          'set shade',
          'set grey',
          'set color',
          //numbers palette
          'int',
          'not',
          'and',
          'or',
          'greater',
          'less',
          'equal',
          'boolean',
          'eval',
          'mod',
          'power',
          'sqrt',
          'abs',
          'divide',
          'multiply',
          'neg',
          'minus',
          'plus',
          'one Of',
          'random',
          'number',
          //blocks palette
          'increment One',
          'increment',
          'box',
          'store in',
          'named box',
          //actions palette
          'do',
          'return',
          'return to Url',
          'calc',
          'named calc',
          'named do Arg',
          'named calc Arg',
          'do Arg',
          'calc Arg',
          'arg',
          'named arg',
          'listen',
          'dispatch',
          'drum',
          'start',
          'action',
          'named do',
          //heap palette
          'load Heap From App',
          'save Heap To App',
          'show Heap',
          'heap Length',
          'heap empty',
          'empty Heap',
          'save Heap',
          'load Heap',
          'index Heap',
          'set Heap Entry',
          'pop',
          'push',
          //media palette
          'stop playback',
          'playback',
          'speak',
          'camera',
          'video',
          'load File',
          'stop video cam',
          'tone',
          'to frequency',
          'turtleshell',
          'show',
          'media',
          'text',
          //flow palette
          'hidden no flow',
          'hidden',
          'default case',
          'case',
          'switch',
          'clamp',
          'break',
          'wait For',
          'until',
          'while',
          'if then else',
          'if',
          'forever',
          'repeat',
          //extras palette
          'nop Value Block',
          'nop Zero Arg Block',
          'nop One Arg Block',
          'nop Two Arg Block',
          'nop Three Arg Block',
          'save abc',
          'save lilypond',
          'save svg',
          'no background',
          'show blocks',
          'hide blocks',
          'open Project',
          'vspace',
          'hspace',
          'wait',
          'print',
          //sensors palette
          'pitchness',
          'loudness',
          //turtle specific click event
          'my click',
          'get blue',
          'get green',
          'get red',
          'get color pixel',
          'time',
          'mouse y',
          'mouse x',
          'mouse button',
          'to acsii',
          'keyboard',
          //mice palette
          'stop Turtle',
          'start Turtle',
          'turtle color',
          'turtle heading',
          'y turtle',
          'x turtle',
          'turtle elapsed notes',
          'turtle pitch',
          'turtle note',
          'turtle note 2',
          'turtle sync',
          'turtle name',
          'set url name',
          'set url name 2',
          //volume palette
          'note volume factor',
          'ppp',
          'pp',
          'p',
          'mp',
          'mf',
          'f',
          'ff',
          'fff',
          'set synth volume',
          'set note volume',
          'set note volume 2',
          'articulation',
          'crescendo'
        ]
      });
    </script>

  </body>

</html>

